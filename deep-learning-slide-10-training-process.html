<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>The Training Process</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet"/>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{background:#0f172a;color:#fff;font-family:'Inter',sans-serif;overflow:hidden}
.slide{width:1280px;height:720px;position:relative;background:linear-gradient(135deg,#0a1628,#0f172a 50%,#0d1f3c);display:flex;flex-direction:column;padding:36px 60px;overflow:hidden}

/* ── Background Grid ── */
.grid{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.025) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.025) 1px,transparent 1px);background-size:48px 48px;pointer-events:none;z-index:0}

/* ── Ambient Orbs ── */
.orb{position:absolute;border-radius:50%;pointer-events:none;z-index:0}
.o1{width:600px;height:600px;background:radial-gradient(circle,rgba(59,130,246,.07),transparent 65%);top:-200px;right:-150px;animation:o1 8s ease-in-out infinite alternate}
.o2{width:400px;height:400px;background:radial-gradient(circle,rgba(37,99,235,.06),transparent 65%);bottom:-120px;left:-80px;animation:o2 10s ease-in-out infinite alternate}
.o3{width:280px;height:280px;background:radial-gradient(circle,rgba(139,92,246,.05),transparent 65%);top:40%;right:28%;animation:o3 7s ease-in-out infinite}
@keyframes o1{to{transform:translate(-30px,30px) scale(1.08)}}
@keyframes o2{to{transform:translate(20px,-20px) scale(1.05)}}
@keyframes o3{0%,100%{opacity:.4;transform:scale(1)}50%{opacity:.9;transform:scale(1.2)}}

/* ── Background Particles Canvas ── */
#bgc{position:absolute;inset:0;pointer-events:none;z-index:1}

/* ── Logo ── */
.logo{position:absolute;top:16px;right:20px;z-index:100}
.logo img{height:50px;opacity:0.95;object-fit:contain}

/* ── Header ── */
.hdr{z-index:10;margin-bottom:22px;opacity:0;transform:translateY(-24px);animation:fsd .7s cubic-bezier(.22,1,.36,1) .1s forwards}
h1{font-family:'Montserrat',sans-serif;font-size:2.6rem;font-weight:800;color:#fff;letter-spacing:-1.5px;line-height:1.1;margin-bottom:10px}
.bar{width:64px;height:4px;background:linear-gradient(90deg,#3b82f6,#60a5fa);border-radius:2px;transform-origin:left;animation:grow .6s cubic-bezier(.22,1,.36,1) .7s both}
@keyframes grow{from{transform:scaleX(0);opacity:0}to{transform:scaleX(1);opacity:1}}

/* ── Body Layout ── */
.body{display:flex;flex:1;gap:48px;z-index:10;align-items:center;min-height:0}

/* ── Left: Bullet Points ── */
.left{flex:0 0 44%}
ul{list-style:none;display:flex;flex-direction:column;gap:20px}
li{display:flex;align-items:flex-start;gap:18px;opacity:0;transform:translateX(-32px);cursor:default;transition:transform .25s}
li:nth-child(1){animation:fsi .6s cubic-bezier(.22,1,.36,1) .85s forwards}
li:nth-child(2){animation:fsi .6s cubic-bezier(.22,1,.36,1) 1.05s forwards}
li:nth-child(3){animation:fsi .6s cubic-bezier(.22,1,.36,1) 1.25s forwards}
li:nth-child(4){animation:fsi .6s cubic-bezier(.22,1,.36,1) 1.45s forwards}
li:nth-child(5){animation:fsi .6s cubic-bezier(.22,1,.36,1) 1.65s forwards}
li:hover{transform:translateX(8px)}
li:hover .dot{background:#60a5fa;box-shadow:0 0 14px rgba(96,165,250,.6)}
li:hover span.txt{color:#fff}
.dot{width:14px;height:14px;border-radius:50%;background:#3b82f6;flex-shrink:0;margin-top:5px;transition:background .25s,box-shadow .25s}
li:nth-child(1) .dot{animation:dp 3s ease-in-out 2s infinite}
li:nth-child(2) .dot{animation:dp 3s ease-in-out 2.4s infinite}
li:nth-child(3) .dot{animation:dp 3s ease-in-out 2.8s infinite}
li:nth-child(4) .dot{animation:dp 3s ease-in-out 3.2s infinite}
li:nth-child(5) .dot{animation:dp 3s ease-in-out 3.6s infinite}
@keyframes dp{0%,100%{box-shadow:0 0 0 0 rgba(59,130,246,.5)}50%{box-shadow:0 0 0 7px rgba(59,130,246,0)}}
span.txt{font-size:1.12rem;color:#e2e8f0;line-height:1.45;transition:color .25s}
span.hl{font-weight:700;color:#67e8f9;font-size:1.15rem}

/* ── Right: Prediction Box ── */
.right{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}

.pred-box{
  background:rgba(13,20,40,0.85);
  border:1.5px solid rgba(99,102,241,0.45);
  border-radius:18px;
  padding:30px 36px 32px;
  width:400px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:22px;
  opacity:0;
  transform:translateY(24px);
  animation:fsu .7s cubic-bezier(.22,1,.36,1) 1.1s forwards;
  box-shadow:0 0 50px rgba(99,102,241,0.12), 0 0 0 1px rgba(255,255,255,0.03), inset 0 1px 0 rgba(255,255,255,0.05);
  position:relative;
  overflow:hidden;
}

/* subtle inner glow pulse on the box */
.pred-box::before{
  content:'';
  position:absolute;
  inset:0;
  border-radius:18px;
  background:radial-gradient(ellipse at 50% 0%, rgba(99,102,241,0.08), transparent 70%);
  pointer-events:none;
  animation:boxGlow 4s ease-in-out infinite;
}
@keyframes boxGlow{0%,100%{opacity:.6}50%{opacity:1}}

.pred-title{
  font-family:'Montserrat',sans-serif;
  font-size:0.95rem;
  font-weight:700;
  color:#a78bfa;
  letter-spacing:0.08em;
  text-transform:uppercase;
  z-index:1;
}

/* ── Input Box ── */
.input-box{
  background:rgba(30,41,59,0.7);
  border:1.5px solid rgba(99,102,241,0.5);
  border-radius:10px;
  padding:14px 24px;
  width:100%;
  text-align:center;
  font-size:1.25rem;
  font-weight:600;
  color:#e2e8f0;
  min-height:54px;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1;
  letter-spacing:0.02em;
}

.cursor{
  display:inline-block;
  width:2px;
  height:1.1em;
  background:#60a5fa;
  margin-left:3px;
  border-radius:1px;
  animation:blink .65s step-end infinite;
  vertical-align:middle;
}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}

/* ── Arrow ── */
.arrow-wrap{
  opacity:0;
  transform:translateY(-8px);
  animation:arrowIn .5s cubic-bezier(.22,1,.36,1) 2.9s forwards;
  z-index:1;
}
@keyframes arrowIn{
  0%{opacity:0;transform:translateY(-8px)}
  60%{opacity:1;transform:translateY(5px)}
  100%{opacity:1;transform:translateY(0)}
}
.arrow-svg{
  animation:arrowPulse 1.8s ease-in-out 3.4s infinite;
}
@keyframes arrowPulse{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(5px)}
}

/* ── Words Row ── */
.words-row{
  display:flex;
  gap:18px;
  align-items:flex-start;
  justify-content:center;
  z-index:1;
}

.word-item{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:7px;
  opacity:0;
}
.word-item:nth-child(1){animation:fsu .5s cubic-bezier(.22,1,.36,1) 3.2s forwards}
.word-item:nth-child(2){animation:fsu .5s cubic-bezier(.22,1,.36,1) 3.45s forwards}
.word-item:nth-child(3){animation:fsu .5s cubic-bezier(.22,1,.36,1) 3.7s forwards}

/* ── Word Chip ── */
.word-chip{
  padding:9px 22px;
  border-radius:999px;
  border:1.5px solid rgba(99,102,241,0.45);
  background:rgba(30,41,59,0.75);
  font-size:1rem;
  font-weight:600;
  color:#cbd5e1;
  transition:all 0.5s cubic-bezier(.22,1,.36,1);
  white-space:nowrap;
  cursor:default;
}
.word-chip.top-word{
  border-color:#3b82f6;
  background:rgba(59,130,246,0.18);
  color:#93c5fd;
  box-shadow:0 0 22px rgba(59,130,246,0.35), 0 0 0 1px rgba(59,130,246,0.2);
}
.word-chip.top-word.clear-top{
  border-color:#6366f1;
  background:rgba(99,102,241,0.18);
  color:#a5b4fc;
  box-shadow:0 0 22px rgba(99,102,241,0.35), 0 0 0 1px rgba(99,102,241,0.2);
}
.word-chip.top-word.cloudy-top{
  border-color:#8b5cf6;
  background:rgba(139,92,246,0.18);
  color:#c4b5fd;
  box-shadow:0 0 22px rgba(139,92,246,0.35), 0 0 0 1px rgba(139,92,246,0.2);
}

/* ── Progress Bar ── */
.pct-bar-bg{
  width:72px;
  height:4px;
  background:rgba(30,41,59,0.9);
  border-radius:2px;
  overflow:hidden;
}
.pct-bar-fill{
  height:100%;
  border-radius:2px;
  width:0%;
  transition:width 0.9s cubic-bezier(.22,1,.36,1);
}
#bar-blue  { background:linear-gradient(90deg,#3b82f6,#60a5fa); }
#bar-clear { background:linear-gradient(90deg,#6366f1,#818cf8); }
#bar-cloudy{ background:linear-gradient(90deg,#8b5cf6,#a78bfa); }

/* ── Percentage Label ── */
.pct-label{
  font-family:'JetBrains Mono',monospace;
  font-size:0.82rem;
  font-weight:700;
  color:#64748b;
  transition:color 0.5s ease;
  min-width:38px;
  text-align:center;
}
.pct-label.top-pct.blue-pct  { color:#60a5fa; }
.pct-label.top-pct.clear-pct { color:#818cf8; }
.pct-label.top-pct.cloudy-pct{ color:#a78bfa; }

/* ── Keyframes ── */
@keyframes fsu{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes fsd{from{opacity:0;transform:translateY(-24px)}to{opacity:1;transform:translateY(0)}}
@keyframes fsi{from{opacity:0;transform:translateX(-32px)}to{opacity:1;transform:translateX(0)}}
</style>
</head>
<body>
<div class="slide">
  <div class="grid"></div>
  <div class="orb o1"></div>
  <div class="orb o2"></div>
  <div class="orb o3"></div>
  <canvas id="bgc"></canvas>
  <div class="logo"><img src="assets/Cogninelogo.png" alt="Cognine"/></div>

  <!-- ── Header ── -->
  <div class="hdr">
    <h1>The Training Process</h1>
    <div class="bar"></div>
  </div>

  <!-- ── Body ── -->
  <div class="body">

    <!-- LEFT: Bullet Points -->
    <div class="left">
      <ul>
        <li><span class="dot"></span><span class="txt">Predicts the next word in a sequence</span></li>
        <li><span class="dot"></span><span class="txt">Example: <span class="hl">"The sky is..."</span> → blue, clear, cloudy</span></li>
        <li><span class="dot"></span><span class="txt">Learns by reducing prediction errors</span></li>
        <li><span class="dot"></span><span class="txt">Fine-tuning for specialized tasks</span></li>
        <li><span class="dot"></span><span class="txt">Continuous improvement with feedback</span></li>
      </ul>
    </div>

    <!-- RIGHT: Next Word Prediction Box -->
    <div class="right">
      <div class="pred-box">

        <div class="pred-title">Next Word Prediction</div>

        <!-- Input text box -->
        <div class="input-box">
          <span id="typed-text"></span><span class="cursor" id="cursor"></span>
        </div>

        <!-- Animated down arrow -->
        <div class="arrow-wrap">
          <svg class="arrow-svg" width="28" height="28" viewBox="0 0 28 28" fill="none">
            <path d="M14 4 L14 22" stroke="#3b82f6" stroke-width="2.5" stroke-linecap="round"/>
            <path d="M6 15 L14 23 L22 15" stroke="#3b82f6" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>

        <!-- Word chips with percentages -->
        <div class="words-row">
          <!-- blue -->
          <div class="word-item" id="item-blue">
            <div class="word-chip" id="chip-blue">blue</div>
            <div class="pct-bar-bg">
              <div class="pct-bar-fill" id="bar-blue"></div>
            </div>
            <div class="pct-label" id="pct-blue">0%</div>
          </div>
          <!-- clear -->
          <div class="word-item" id="item-clear">
            <div class="word-chip" id="chip-clear">clear</div>
            <div class="pct-bar-bg">
              <div class="pct-bar-fill" id="bar-clear"></div>
            </div>
            <div class="pct-label" id="pct-clear">0%</div>
          </div>
          <!-- cloudy -->
          <div class="word-item" id="item-cloudy">
            <div class="word-chip" id="chip-cloudy">cloudy</div>
            <div class="pct-bar-bg">
              <div class="pct-bar-fill" id="bar-cloudy"></div>
            </div>
            <div class="pct-label" id="pct-cloudy">0%</div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<script>
/* ════════════════════════════════════════════
   Background Particles
════════════════════════════════════════════ */
(function () {
  var c = document.getElementById('bgc');
  var ctx = c.getContext('2d');
  c.width = 1280; c.height = 720;
  var ps = [];
  for (var i = 0; i < 50; i++) ps.push(mkP(true));
  function mkP(init) {
    var hue = 210 + Math.floor(Math.random() * 50);
    return {
      x: Math.random() * 1280, y: init ? Math.random() * 720 : 726,
      r: 1 + Math.random() * 2.2, vy: .22 + Math.random() * .5,
      vx: (Math.random() - .5) * .28, op: 0,
      mop: .1 + Math.random() * .2, life: 0,
      ml: 260 + Math.random() * 200,
      col: 'hsl(' + hue + ',80%,65%)'
    };
  }
  function upd(p) {
    p.life++; p.y -= p.vy; p.x += p.vx;
    if (p.life < 40) p.op = (p.life / 40) * p.mop;
    else if (p.life > p.ml - 40) p.op = ((p.ml - p.life) / 40) * p.mop;
    else p.op = p.mop;
    if (p.life >= p.ml || p.y < -10) Object.assign(p, mkP(false));
  }
  function drw(p) {
    ctx.save(); ctx.globalAlpha = p.op;
    ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fillStyle = p.col; ctx.shadowBlur = 6; ctx.shadowColor = p.col;
    ctx.fill(); ctx.restore();
  }
  (function loop() {
    ctx.clearRect(0, 0, 1280, 720);
    ps.forEach(function (p) { upd(p); drw(p); });
    requestAnimationFrame(loop);
  })();
})();

/* ════════════════════════════════════════════
   Typewriter — base text only
════════════════════════════════════════════ */
var baseText    = "The sky is";
var typedEl     = document.getElementById('typed-text');
var cursorEl    = document.getElementById('cursor');
var baseCharIdx = 0;

function typeBase(cb) {
  if (baseCharIdx < baseText.length) {
    typedEl.textContent += baseText[baseCharIdx];
    baseCharIdx++;
    setTimeout(function () { typeBase(cb); }, 90);
  } else {
    cb && cb();
  }
}

/* ════════════════════════════════════════════
   Probability Phases
   Added `word` field = the suffix to type
════════════════════════════════════════════ */
var phases = [
  { blue: 45, clear: 35, cloudy: 20, top: 'blue',   word: ' blue'   },
  { blue: 28, clear: 52, cloudy: 20, top: 'clear',  word: ' clear'  },
  { blue: 22, clear: 28, cloudy: 50, top: 'cloudy', word: ' cloudy' }
];
var currentPhase = 0;

/* Animate a single percentage counter from its current displayed value to target */
function animateCounter(word, targetPct) {
  var el       = document.getElementById('pct-' + word);
  var barEl    = document.getElementById('bar-' + word);
  var startPct = parseInt(el.textContent) || 0;
  var startTime = null;
  var duration  = 900;

  function step(ts) {
    if (!startTime) startTime = ts;
    var progress = Math.min((ts - startTime) / duration, 1);
    var eased    = 1 - Math.pow(1 - progress, 3);
    var current  = Math.round(startPct + (targetPct - startPct) * eased);
    el.textContent    = current + '%';
    barEl.style.width = current + '%';
    if (progress < 1) requestAnimationFrame(step);
    else {
      el.textContent    = targetPct + '%';
      barEl.style.width = targetPct + '%';
    }
  }
  requestAnimationFrame(step);
}

/* Apply chip + bar styling for a phase */
function applyPhase(phaseIdx) {
  var p     = phases[phaseIdx];
  var words = ['blue', 'clear', 'cloudy'];

  words.forEach(function (word) {
    var chip  = document.getElementById('chip-' + word);
    var pctEl = document.getElementById('pct-' + word);
    var isTop = (p.top === word);

    animateCounter(word, p[word]);

    chip.className  = 'word-chip';
    pctEl.className = 'pct-label';

    if (isTop) {
      chip.classList.add('top-word');
      pctEl.classList.add('top-pct');
      if (word === 'blue')   {                                    pctEl.classList.add('blue-pct');   }
      if (word === 'clear')  { chip.classList.add('clear-top');  pctEl.classList.add('clear-pct');  }
      if (word === 'cloudy') { chip.classList.add('cloudy-top'); pctEl.classList.add('cloudy-pct'); }
    }
  });
}

/* ════════════════════════════════════════════
   Type a suffix char-by-char into the input
════════════════════════════════════════════ */
function typeWord(suffix, speed, cb) {
  var i = 0;
  function next() {
    if (i < suffix.length) {
      typedEl.textContent += suffix[i];
      i++;
      setTimeout(next, speed);
    } else {
      cb && cb();
    }
  }
  next();
}

/* Erase N characters from the end (backspace effect) */
function eraseChars(n, speed, cb) {
  var count = 0;
  function next() {
    if (count < n) {
      typedEl.textContent = typedEl.textContent.slice(0, -1);
      count++;
      setTimeout(next, speed);
    } else {
      cb && cb();
    }
  }
  next();
}

/* ════════════════════════════════════════════
   Cycling loop
   Per cycle:
     0 ms   → apply phase (bars + chip highlight)
     700 ms → type the top word into the box
     after typing → pause 1600 ms (audience reads)
     → erase the word char-by-char
     → 300 ms pause → next phase → repeat
════════════════════════════════════════════ */
function runCycle() {
  var p = phases[currentPhase];

  // 1. Update probability bars & chip highlights
  applyPhase(currentPhase);

  // 2. After bars settle, type the predicted word
  setTimeout(function () {
    typeWord(p.word, 100, function () {

      // 3. Pause so audience can read the completed sentence
      setTimeout(function () {

        // 4. Erase the typed word (backspace)
        eraseChars(p.word.length, 55, function () {

          // 5. Brief pause then advance to next phase
          setTimeout(function () {
            currentPhase = (currentPhase + 1) % phases.length;
            runCycle();
          }, 300);

        });
      }, 1600);
    });
  }, 700);
}

/* ════════════════════════════════════════════
   Boot sequence
════════════════════════════════════════════ */
setTimeout(function () {
  // Type "The sky is" first
  typeBase(function () {
    // Wait for word chips to finish animating in (~1.7 s after typing starts)
    setTimeout(function () {
      // Keep cursor visible & blinking throughout
      cursorEl.style.animation = 'blink .65s step-end infinite';
      cursorEl.style.opacity   = '1';

      // Kick off the cycling loop
      runCycle();
    }, 1700);
  });
}, 1700);
</script>
</body>
</html>
